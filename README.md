# ğŸ¨ Gallery Generate Agent

<div align="center">

![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey.svg)

**åŸºäº AI çš„æ™ºèƒ½å›¾ç‰‡åˆ†ç±»ä¸ä½œå“é›†ç”Ÿæˆå·¥å…·**

[ç‰¹æ€§](#-ç‰¹æ€§) â€¢ [å®‰è£…](#-å®‰è£…) â€¢ [ä½¿ç”¨](#-ä½¿ç”¨) â€¢ [é…ç½®](#-é…ç½®) â€¢ [è´¡çŒ®](#-è´¡çŒ®)

</div>

---

## ğŸ“– ç®€ä»‹

Gallery Generate Agent æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œå®ƒä½¿ç”¨å…ˆè¿›çš„ AI æ¨¡å‹ï¼ˆCLIPï¼‰è‡ªåŠ¨è¯†åˆ«å’Œåˆ†ç±»å›¾ç‰‡ï¼Œå°†å…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„å›¾ç‰‡å½’ç±»ï¼Œå¹¶ç”Ÿæˆç²¾ç¾çš„ä½œå“é›†ã€‚æ— è®ºæ‚¨æ˜¯æ‘„å½±å¸ˆã€è®¾è®¡å¸ˆè¿˜æ˜¯å›¾ç‰‡çˆ±å¥½è€…ï¼Œè¿™ä¸ªå·¥å…·éƒ½èƒ½å¸®åŠ©æ‚¨å¿«é€Ÿæ•´ç†å’Œå±•ç¤ºæ‚¨çš„å›¾ç‰‡æ”¶è—ã€‚

### âœ¨ ç‰¹æ€§

- ğŸ¤– **æ™ºèƒ½è¯†åˆ«**ï¼šä½¿ç”¨ OpenAI CLIP æ¨¡å‹è‡ªåŠ¨è¯†åˆ«å›¾ç‰‡ç±»åˆ«ã€æ„å›¾å’Œè‰ºæœ¯ç‰¹å¾
- ğŸ“Š **è‡ªåŠ¨åˆ†ç±»**ï¼šåŸºäºæ·±åº¦å­¦ä¹ ç‰¹å¾æå–ï¼Œæ™ºèƒ½èšç±»ç›¸ä¼¼å›¾ç‰‡
- ğŸ¯ **å¤šç§è¾“å‡ºæ ¼å¼**ï¼š
  - ğŸ“„ HTML ç½‘é¡µï¼ˆå“åº”å¼è®¾è®¡ï¼‰
  - ğŸ“‘ PDF æ–‡æ¡£ï¼ˆä¿æŒå®½é«˜æ¯”ï¼‰
  - ğŸ“ æ–‡ä»¶å¤¹ç»“æ„ï¼ˆæŒ‰ç±»åˆ«ç»„ç»‡ï¼‰
- ğŸ’» **å›¾å½¢ç•Œé¢**ï¼šå‹å¥½çš„ GUIï¼Œæ“ä½œç®€å•ç›´è§‚
- ğŸ”§ **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰èšç±»æ•°é‡ã€è¾“å‡ºæ ¼å¼ç­‰
- ğŸš€ **é«˜æ€§èƒ½**ï¼šä¼˜åŒ–å†…å­˜ä½¿ç”¨ï¼Œæ”¯æŒæ‰¹é‡å¤„ç†å¤§é‡å›¾ç‰‡
- ğŸ›¡ï¸ **éšç§ä¿æŠ¤**ï¼šå®Œå…¨æœ¬åœ°è¿è¡Œï¼Œæ•°æ®ä¸ä¸Šä¼ 

### ğŸ¯ é€‚ç”¨åœºæ™¯

- ğŸ“· æ‘„å½±å¸ˆæ•´ç†ä½œå“é›†
- ğŸ¨ è®¾è®¡å¸ˆåˆ†ç±»ç´ æåº“
- ğŸ–¼ï¸ è‰ºæœ¯çˆ±å¥½è€…ç®¡ç†æ”¶è—
- ğŸ“š å›¾ç‰‡åº“è‡ªåŠ¨å½’æ¡£
- ğŸŒ æ—…è¡Œç…§ç‰‡æ™ºèƒ½åˆ†ç±»

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- 4GB+ RAMï¼ˆæ¨è 8GBï¼‰
- ï¼ˆå¯é€‰ï¼‰NVIDIA GPU ç”¨äºåŠ é€Ÿå¤„ç†

### ğŸ“¦ å®‰è£…

1. **å…‹éš†ä»“åº“**

```bash
git clone https://github.com/yourusername/gallery-generate-agent.git
cd gallery-generate-agent
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰**

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

3. **å®‰è£…ä¾èµ–**

```bash
pip install -r requirements.txt
```

> **æ³¨æ„**ï¼šé¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨ä¸‹è½½ CLIP æ¨¡å‹ï¼ˆçº¦ 400MBï¼‰ï¼Œè¯·ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ã€‚

---

## ğŸ’¡ ä½¿ç”¨

### å¯åŠ¨ç¨‹åº

**æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œè„šæœ¬**
```bash
python main.py
```

**æ–¹å¼äºŒï¼šä½œä¸ºæ¨¡å—è¿è¡Œ**
```bash
python -m gallery_generator
```

**æ–¹å¼ä¸‰ï¼šå®‰è£…åè¿è¡Œ**
```bash
# å¼€å‘æ¨¡å¼å®‰è£…
pip install -e .

# è¿è¡Œ
gallery-generator
```

### ä½¿ç”¨æ­¥éª¤

1. **é€‰æ‹©æ–‡ä»¶å¤¹**ï¼šç‚¹å‡»"æµè§ˆ"æŒ‰é’®ï¼Œé€‰æ‹©åŒ…å«å›¾ç‰‡çš„æ–‡ä»¶å¤¹
2. **é…ç½®å‚æ•°**ï¼š
   - è®¾ç½®èšç±»æ•°é‡ï¼ˆæˆ–é€‰æ‹©è‡ªåŠ¨ï¼‰
   - é€‰æ‹©è¾“å‡ºæ ¼å¼ï¼ˆHTML/PDF/æ–‡ä»¶å¤¹ï¼‰
   - æŒ‡å®šè¾“å‡ºç›®å½•ï¼ˆå¯é€‰ï¼‰
3. **å¼€å§‹å¤„ç†**ï¼šç‚¹å‡»"å¼€å§‹å¤„ç†"æŒ‰é’®
4. **æŸ¥çœ‹ç»“æœ**ï¼šå¤„ç†å®Œæˆåï¼Œå¯ä»¥ç›´æ¥æ‰“å¼€ç”Ÿæˆçš„ä½œå“é›†

### ç¤ºä¾‹

```
è¾“å…¥æ–‡ä»¶å¤¹ï¼š
  ~/Pictures/vacation/
    - beach1.jpg
    - beach2.jpg
    - mountain1.jpg
    - city1.jpg
    ...

è¾“å‡ºç»“æœï¼š
  outputs/gallery/
    â”œâ”€â”€ gallery.html        # HTML ç½‘é¡µä½œå“é›†
    â”œâ”€â”€ gallery.pdf         # PDF æ–‡æ¡£ä½œå“é›†
    â””â”€â”€ folders/            # åˆ†ç±»æ–‡ä»¶å¤¹
        â”œâ”€â”€ æµ·/
        â”œâ”€â”€ å±±/
        â””â”€â”€ åŸå¸‚/
```

---

## âš™ï¸ é…ç½®

ç¼–è¾‘ `config.json` æ–‡ä»¶ä»¥è‡ªå®šä¹‰é…ç½®ï¼š

```json
{
  "model": {
    "clip_model_name": "openai/clip-vit-base-patch32",
    "device": "auto",
    "batch_size": 32
  },
  "clustering": {
    "algorithm": "kmeans",
    "n_clusters": "auto",
    "auto_cluster_method": "elbow"
  },
  "output": {
    "default_output_dir": "outputs/gallery"
  }
}
```

### é…ç½®é€‰é¡¹è¯´æ˜

| é€‰é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `device` | è¿è¡Œè®¾å¤‡ï¼ˆ`auto`/`cuda`/`cpu`ï¼‰ | `auto` |
| `batch_size` | æ‰¹å¤„ç†å¤§å° | `32` |
| `algorithm` | èšç±»ç®—æ³•ï¼ˆ`kmeans`/`dbscan`ï¼‰ | `kmeans` |
| `n_clusters` | èšç±»æ•°é‡ï¼ˆ`auto` æˆ–æ•°å­—ï¼‰ | `auto` |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **GUI**: PyQt5
- **AI æ¨¡å‹**: CLIP (OpenAI)
- **æ·±åº¦å­¦ä¹ **: PyTorch, Transformers
- **å›¾åƒå¤„ç†**: Pillow, OpenCV
- **èšç±»ç®—æ³•**: scikit-learn
- **æ¨¡æ¿å¼•æ“**: Jinja2
- **PDF ç”Ÿæˆ**: ReportLab

---

## ğŸ“Š é¡¹ç›®ç»“æ„

```
Gallery Generate Agent/
â”œâ”€â”€ src/                        # æºä»£ç ç›®å½•
â”‚   â””â”€â”€ gallery_generator/      # ä¸»åŒ…
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ __main__.py         # ä¸»å…¥å£
â”‚       â”œâ”€â”€ core/               # æ ¸å¿ƒåŠŸèƒ½
â”‚       â”‚   â”œâ”€â”€ image_analyzer.py
â”‚       â”‚   â”œâ”€â”€ feature_extractor.py
â”‚       â”‚   â”œâ”€â”€ classifier.py
â”‚       â”‚   â””â”€â”€ gallery_generator.py
â”‚       â”œâ”€â”€ gui/                # GUI æ¨¡å—
â”‚       â”‚   â”œâ”€â”€ main_window.py
â”‚       â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ models/             # AI æ¨¡å‹
â”‚           â””â”€â”€ clip_model.py
â”œâ”€â”€ tests/                      # æµ‹è¯•ç›®å½•
â”œâ”€â”€ docs/                       # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ outputs/                    # è¾“å‡ºæ¨¡æ¿
â”‚   â”œâ”€â”€ html_template.html
â”‚   â””â”€â”€ styles.css
â”œâ”€â”€ main.py                     # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ setup.py                    # å®‰è£…é…ç½®
â”œâ”€â”€ pyproject.toml              # é¡¹ç›®é…ç½®
â”œâ”€â”€ config.json                 # è¿è¡Œé…ç½®
â”œâ”€â”€ requirements.txt            # ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
```

---

## ğŸ” æ”¯æŒçš„å›¾ç‰‡æ ¼å¼

- âœ… JPG / JPEG
- âœ… PNG
- âœ… WEBP
- âœ… BMP
- âœ… GIF

---

## â“ å¸¸è§é—®é¢˜

<details>
<summary><b>é¦–æ¬¡è¿è¡Œä¸ºä»€ä¹ˆå¾ˆæ…¢ï¼Ÿ</b></summary>

é¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½ CLIP æ¨¡å‹ï¼ˆçº¦ 400MBï¼‰ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚æ¨¡å‹ä¼šè¢«ç¼“å­˜åˆ°æœ¬åœ°ï¼Œåç»­è¿è¡Œå°†ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„æ¨¡å‹ã€‚
</details>

<details>
<summary><b>å¦‚ä½•æé«˜å¤„ç†é€Ÿåº¦ï¼Ÿ</b></summary>

- ä½¿ç”¨ NVIDIA GPUï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰
- å‡å° batch_size ä»¥é™ä½å†…å­˜å ç”¨
- é™åˆ¶å¤„ç†çš„å›¾ç‰‡æ•°é‡
</details>

<details>
<summary><b>å¤„ç†å¤§é‡å›¾ç‰‡æ—¶å†…å­˜ä¸è¶³æ€ä¹ˆåŠï¼Ÿ</b></summary>

ç¨‹åºå·²ä¼˜åŒ–å†…å­˜ä½¿ç”¨ï¼Œé»˜è®¤é™åˆ¶æœ€å¤šå¤„ç† 10000 å¼ å›¾ç‰‡ã€‚æ‚¨å¯ä»¥ï¼š
- åˆ†æ‰¹å¤„ç†å›¾ç‰‡
- å¢åŠ ç³»ç»Ÿå†…å­˜
- åœ¨é…ç½®ä¸­å‡å° batch_size
</details>

<details>
<summary><b>å¯ä»¥åœ¨æ²¡æœ‰ç½‘ç»œçš„ç¯å¢ƒä¸‹ä½¿ç”¨å—ï¼Ÿ</b></summary>

å¯ä»¥ï¼æ¨¡å‹ä¸‹è½½åä¼šç¼“å­˜åˆ°æœ¬åœ°ï¼Œåç»­ä½¿ç”¨æ— éœ€ç½‘ç»œè¿æ¥ã€‚å®Œå…¨æœ¬åœ°è¿è¡Œï¼Œä¿æŠ¤æ‚¨çš„éšç§ã€‚
</details>

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

### è´¡çŒ®æ–¹å¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“ æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£ç‰ˆæœ¬æ›´æ–°å†å²ã€‚

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ™ è‡´è°¢

- [OpenAI CLIP](https://github.com/openai/CLIP) - å¼ºå¤§çš„è§†è§‰-è¯­è¨€æ¨¡å‹
- [Transformers](https://github.com/huggingface/transformers) - Hugging Face çš„å˜æ¢å™¨åº“
- [PyQt5](https://www.riverbankcomputing.com/software/pyqt/) - Python GUI æ¡†æ¶

---

## ğŸ“§ è”ç³»

- é¡¹ç›®é—®é¢˜ï¼š[Issues](https://github.com/yourusername/gallery-generate-agent/issues)
- åŠŸèƒ½å»ºè®®ï¼š[Discussions](https://github.com/yourusername/gallery-generate-agent/discussions)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ Starï¼**

Made with â¤ï¸ by [Your Name]

</div>
